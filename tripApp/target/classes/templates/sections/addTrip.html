<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.6/css/mdb.min.css" rel="stylesheet">
<link href="css/addons-pro/steppers.css" rel="stylesheet">
<link href="css/addons-pro/steppers.css" rel="stylesheet">
<link href="css/addons-pro/steppers.min.css" rel="stylesheet">

</head>
<body>
	<form action="#" th:action="@{/add-trip}" th:object="${addTripViewModel}" method="post">
	<div class="row" id="content">
		 <div class="col-md-2 col-sm-2 col-xs-2 fla"></div>
		 <div class="col-md-8 col-sm-8 col-xs-2 fla">
				<div class="accordion" id="accordionExample" style="margin-top: 3%; margin-bottom: 5%">				
				  <div class="card">
				    <div class="card-header" id="headingOne">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseTwo">
				          1. Adauga locatia
				        </button>
				      </h5>
				    </div>
				    <div id="collapseOne" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
				      <div class="card-body" style="text-align: left; margin-left: 3%">
							<div class="row">
							    <div class="col">
							    	<select class="browser-default custom-select custom-select-md mb-3">
							    		<option value="" disabled selected>Numele varfului</option>
									  	<option th:each="peak : *{peaksDTO}" th:text="${peak.peakName}">  	
									</select>
							    </div>
							    <div class="col">
							    	<select class="browser-default custom-select custom-select-md mb-3">
							    		<option value="" disabled selected>Altitudinea</option>
									  	<option th:each="peak : *{peaksDTO}" th:text="${peak.altitude}">  	
									</select>
							    </div>
							 </div>
							 <div class="row" style="margin-top: 2%; margin-bottom: 2%">
							    <div class="col">
							    	<select class="browser-default custom-select custom-select-md mb-3">
							    		<option value="" disabled selected>Numele muntelui</option>
									  	<option th:each="mountainDTO : *{mountainsDTO}" th:text="${mountainDTO.name}">  	
									</select>
							    </div>
							    <div class="col">
							    	<select class="browser-default custom-select custom-select-md mb-3">
							    		<option value="" disabled selected>Judetul</option>
									  	<option th:each="city : *{citiesDTO}" th:text="${city.name}">  	
									</select>
							    </div>
							 </div>
						</div>
				      </div>
				    </div>
				  
				  
				  <div class="card">
				    <div class="card-header" id="headingTwo">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
				          2. Adauga perioada
				        </button>
				      </h5>
				    </div>
				    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
				      <div class="card-body" style="text-align: left; margin-left: 3%">
							<div class="row">
							    <div class="col">
							      <label for="startDate"> Data inceput </label>
							      <input type="date" id="startDate" class="form-control">
							    </div>
							    <div class="col">
							      <label for="endDate"> Data incheiere </label>
							      <input type="date" id="endDate" class="form-control">
							    </div>
							 </div>
				      </div>
				    </div>
				  </div>
				  
				  <div class="card">
				    <div class="card-header" id="headingTree">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTree" aria-expanded="false" aria-controls="collapseTwo">
				          3. Adauga traseu
				        </button>
				      </h5>
				    </div>
				    <div id="collapseTree" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
				      <div id="allRoutePoints" class="card-body" style="text-align: left; margin-left: 3%">
							<p class="btn btn-info" onclick="createNewPoint()">Adauga punct intermediar</p><br><br>
							<select class="browser-default custom-select custom-select-md mb-3">
							    <option value="" disabled selected> Punct initial </option>
								<option th:each="pointDTO : *{pointsDTO}" th:text="${pointDTO.pointName}"></option>
							</select> <br>
							
							<div id="puncteIntermediare">
							</div>
							
							<select class="browser-default custom-select custom-select-md mb-3">
							    <option value="" disabled selected>Punctul final</option>
								<option th:each="pointDTO : *{pointsDTO}" th:text="${pointDTO.pointName}"></option>
							</select> <br>
				      </div>
				    </div>
				  </div>
				  
				  <div class="card">
				    <div class="card-header" id="headingFour">
				      <h5 class="mb-0">
				        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseTwo">
				          4. Adauga detalii
				        </button>
				      </h5>
				    </div>
				    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
				      <div class="card-body" style="text-align: left; margin-left: 3%">
							<div class="row">
							    <div class="col">
							    	<select class="browser-default custom-select custom-select- mb-3">
							    		<option value="" disabled selected>Dificultate</option>
									  	<option value="1">Usor</option>
									  	<option value="2">Mediu</option>
									  	<option value="3">Dificil</option>
									</select>
							    </div>
							    <div class="col">
							      <input type="number" min="5" max="50" class="form-control" placeholder="Capacitate">
							    </div>
							    <div class="col">
							      <input type="number" min="50" max="75" class="form-control" placeholder="Puncte">
							    </div>
							 </div>
				      </div>
				    </div>
				  </div>
				  
				</div>
				<input type="submit" value="Adauga ascensiunea" class="btn btn-info"/>
				</div>
				
		 <div class="col-md-2 col-sm-2 col-xs-2 fla"></div>
		 </div>
	</div>
	</form>
<script th:inline="javascript">
	function createNewPoint(){
		var allRoutePoints = document.getElementById("puncteIntermediare");
		var newSelect = document.createElement("select");
		newSelect.setAttribute("name", "punctIntermediar");
		newSelect.setAttribute("class", "browser-default custom-select custom-select-md mb-3");
		
		var defaultOption = document.createElement("option");
		defaultOption.setAttribute("value", "");
		defaultOption.setAttribute("disabled", "disabled");
		defaultOption.setAttribute("selected", "selected");
				
		var text = document.createElement("p");
		text.innerHTML = "Punct intermediar";
		
		defaultOption.appendChild(text);
		newSelect.appendChild(defaultOption);
    
    	
		 // <![CDATA[ 

        var points = [[${pointsDTO}]]; 
        for (var i = 0; i < points.length; i++) { 

        	var option = document.createElement("option");
    		var optionText = document.createElement("p");
    		optionText.innerHTML = points[i].pointName;
    		console.log(optionText.innerHTML);
    		option.appendChild(optionText);
    		newSelect.appendChild(option);
        } 

      // ]]> 
		
		var br = document.createElement("br");
		
		var removeButton = document.createElement("p");
		removeButton.innerHTML = "Elimina";
		removeButton.setAttribute("class", "btn btn-danger");
		removeButton.setAttribute("style", "margin-top: -1%");
		removeButton.setAttribute("onclick", "salut()");
		
		var rowDiv = document.createElement("div");
		rowDiv.setAttribute("class", "row");
		removeButton.setAttribute("style", "margin-bottom: -2%");
		
		var col1Div = document.createElement("div");
		col1Div.setAttribute("class", "col-md-10 col-sm-10 col-xs-2");
		
		var col2Div = document.createElement("div");
		col2Div.setAttribute("class", "col-md-2 col-sm-2 col-xs-2");

		var message = [[${message}]];
	    console.log(message);
		
		allRoutePoints.appendChild(rowDiv);
		rowDiv.appendChild(col1Div);
		rowDiv.appendChild(col2Div);
		col1Div.appendChild(newSelect);
		col2Div.appendChild(removeButton);
		allRoutePoints.appendChild(br);
	}
	
	function salut(){
		console.log("salut");
	}
</script>
</body>
</html>